@page "/register"
@inject IBuyerService BuyerService
@inject NavigationManager Navigator
@attribute [Authorize(Policy = "anonym")]
@rendermode InteractiveServer
<div class="main">
    <div>
        <img src="./img/img.png" width="781" height="805" />
    </div>
    <div class="form">
        <h2>Create an account</h2>
        <span>Enter your details below</span>
        <div style="margin-top:40px;">
            <div class="or-btn">
            <input id="toggle-on" class="toggle toggle-left" name="toggle" value="Buyer" type="radio" @onchange="OnRoleChange" checked>
            <label for="toggle-on" class="btn">Buyer</label>
            <input id="toggle-off" class="toggle toggle-right" name="toggle" value="Seller" type="radio" @onchange="OnRoleChange">
            <label for="toggle-off" class="btn">Seller</label>
            </div>
            <p><input type="text" placeholder="First Name" class="input" @bind=Buyer.FirstName /></p>
            <p><input type="text" placeholder="Last Name" class="input" @bind=Buyer.LastName /></p>
            <p><input type="text" placeholder="UserName" class="input" @bind=Buyer.Username /></p>
            <p><input type="email" placeholder="Email or Phone Number" class="input" @bind=Buyer.Email /></p>
            <p><input type="password" placeholder="Password" class="input" @bind=Buyer.PasswordHash /></p>
            <button class="view-btn" style="width:371px;margin-top:40px;" type="button" @onclick="Registration">Create Account</button>
            <button class="google-btn" style="margin-top: 20px">
                <svg width="199" height="25" viewBox="0 0 199 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_868_3335)">
                        <path d="M23.766 12.7764C23.766 11.9607 23.6999 11.1406 23.5588 10.3381H12.24V14.9591H18.7217C18.4528 16.4494 17.5885 17.7678 16.323 18.6056V21.6039H20.19C22.4608 19.5139 23.766 16.4274 23.766 12.7764Z" fill="#4285F4" />
                        <path d="M12.2401 24.5008C15.4766 24.5008 18.2059 23.4382 20.1945 21.6039L16.3276 18.6055C15.2517 19.3375 13.8627 19.752 12.2445 19.752C9.11388 19.752 6.45946 17.6399 5.50705 14.8003H1.5166V17.8912C3.55371 21.9434 7.7029 24.5008 12.2401 24.5008Z" fill="#34A853" />
                        <path d="M5.50253 14.8003C4.99987 13.3099 4.99987 11.6961 5.50253 10.2057V7.11481H1.51649C-0.18551 10.5056 -0.18551 14.5004 1.51649 17.8912L5.50253 14.8003Z" fill="#FBBC04" />
                        <path d="M12.2401 5.24966C13.9509 5.2232 15.6044 5.86697 16.8434 7.04867L20.2695 3.62262C18.1001 1.5855 15.2208 0.465534 12.2401 0.500809C7.7029 0.500809 3.55371 3.05822 1.5166 7.11481L5.50264 10.2058C6.45064 7.36173 9.10947 5.24966 12.2401 5.24966Z" fill="#EA4335" />
                    </g>
                    <path d="M44.768 18.612C44.032 18.612 43.3707 18.484 42.784 18.228C42.208 17.9613 41.7547 17.5987 41.424 17.14C41.0933 16.6707 40.9227 16.132 40.912 15.524H42.464C42.5173 16.0467 42.7307 16.4893 43.104 16.852C43.488 17.204 44.0427 17.38 44.768 17.38C45.4613 17.38 46.0053 17.2093 46.4 16.868C46.8053 16.516 47.008 16.068 47.008 15.524C47.008 15.0973 46.8907 14.7507 46.656 14.484C46.4213 14.2173 46.128 14.0147 45.776 13.876C45.424 13.7373 44.9493 13.588 44.352 13.428C43.616 13.236 43.024 13.044 42.576 12.852C42.1387 12.66 41.76 12.3613 41.44 11.956C41.1307 11.54 40.976 10.9853 40.976 10.292C40.976 9.684 41.1307 9.14533 41.44 8.676C41.7493 8.20667 42.1813 7.844 42.736 7.588C43.3013 7.332 43.9467 7.204 44.672 7.204C45.7173 7.204 46.5707 7.46533 47.232 7.988C47.904 8.51067 48.2827 9.204 48.368 10.068H46.768C46.7147 9.64133 46.4907 9.268 46.096 8.948C45.7013 8.61733 45.1787 8.452 44.528 8.452C43.92 8.452 43.424 8.612 43.04 8.932C42.656 9.24133 42.464 9.67867 42.464 10.244C42.464 10.6493 42.576 10.98 42.8 11.236C43.0347 11.492 43.3173 11.6893 43.648 11.828C43.9893 11.956 44.464 12.1053 45.072 12.276C45.808 12.4787 46.4 12.6813 46.848 12.884C47.296 13.076 47.68 13.38 48 13.796C48.32 14.2013 48.48 14.756 48.48 15.46C48.48 16.004 48.336 16.516 48.048 16.996C47.76 17.476 47.3333 17.8653 46.768 18.164C46.2027 18.4627 45.536 18.612 44.768 18.612ZM51.3746 8.308C51.0973 8.308 50.8626 8.212 50.6706 8.02C50.4786 7.828 50.3826 7.59333 50.3826 7.316C50.3826 7.03867 50.4786 6.804 50.6706 6.612C50.8626 6.42 51.0973 6.324 51.3746 6.324C51.6413 6.324 51.8653 6.42 52.0466 6.612C52.2386 6.804 52.3346 7.03867 52.3346 7.316C52.3346 7.59333 52.2386 7.828 52.0466 8.02C51.8653 8.212 51.6413 8.308 51.3746 8.308ZM52.0786 9.732V18.5H50.6226V9.732H52.0786ZM58.1761 9.588C58.9335 9.588 59.5948 9.75333 60.1601 10.084C60.7361 10.4147 61.1628 10.8307 61.4401 11.332V9.732H62.9121V18.692C62.9121 19.492 62.7415 20.2013 62.4001 20.82C62.0588 21.4493 61.5681 21.94 60.9281 22.292C60.2988 22.644 59.5628 22.82 58.7201 22.82C57.5681 22.82 56.6081 22.548 55.8401 22.004C55.0721 21.46 54.6188 20.7187 54.4801 19.78H55.9201C56.0801 20.3133 56.4108 20.74 56.9121 21.06C57.4135 21.3907 58.0161 21.556 58.7201 21.556C59.5201 21.556 60.1708 21.3053 60.6721 20.804C61.1841 20.3027 61.4401 19.5987 61.4401 18.692V16.852C61.1521 17.364 60.7255 17.7907 60.1601 18.132C59.5948 18.4733 58.9335 18.644 58.1761 18.644C57.3975 18.644 56.6881 18.452 56.0481 18.068C55.4188 17.684 54.9228 17.1453 54.5601 16.452C54.1975 15.7587 54.0161 14.9693 54.0161 14.084C54.0161 13.188 54.1975 12.404 54.5601 11.732C54.9228 11.0493 55.4188 10.5213 56.0481 10.148C56.6881 9.77467 57.3975 9.588 58.1761 9.588ZM61.4401 14.1C61.4401 13.4387 61.3068 12.8627 61.0401 12.372C60.7735 11.8813 60.4108 11.508 59.9521 11.252C59.5041 10.9853 59.0081 10.852 58.4641 10.852C57.9201 10.852 57.4241 10.98 56.9761 11.236C56.5281 11.492 56.1708 11.8653 55.9041 12.356C55.6375 12.8467 55.5041 13.4227 55.5041 14.084C55.5041 14.756 55.6375 15.3427 55.9041 15.844C56.1708 16.3347 56.5281 16.7133 56.9761 16.98C57.4241 17.236 57.9201 17.364 58.4641 17.364C59.0081 17.364 59.5041 17.236 59.9521 16.98C60.4108 16.7133 60.7735 16.3347 61.0401 15.844C61.3068 15.3427 61.4401 14.7613 61.4401 14.1ZM69.6446 9.572C70.7113 9.572 71.5753 9.89733 72.2366 10.548C72.898 11.188 73.2286 12.116 73.2286 13.332V18.5H71.7886V13.54C71.7886 12.6653 71.57 11.9987 71.1326 11.54C70.6953 11.0707 70.098 10.836 69.3406 10.836C68.5726 10.836 67.9593 11.076 67.5006 11.556C67.0526 12.036 66.8286 12.7347 66.8286 13.652V18.5H65.3726V9.732H66.8286V10.98C67.1166 10.532 67.506 10.1853 67.9966 9.94C68.498 9.69467 69.0473 9.572 69.6446 9.572ZM87.6486 9.732V18.5H86.1926V17.204C85.9153 17.652 85.526 18.004 85.0246 18.26C84.534 18.5053 83.99 18.628 83.3926 18.628C82.71 18.628 82.0966 18.4893 81.5526 18.212C81.0086 17.924 80.5766 17.4973 80.2566 16.932C79.9473 16.3667 79.7926 15.6787 79.7926 14.868V9.732H81.2326V14.676C81.2326 15.54 81.4513 16.2067 81.8886 16.676C82.326 17.1347 82.9233 17.364 83.6806 17.364C84.4593 17.364 85.0726 17.124 85.5206 16.644C85.9686 16.164 86.1926 15.4653 86.1926 14.548V9.732H87.6486ZM91.563 11.348C91.851 10.8467 92.2777 10.4307 92.843 10.1C93.419 9.75867 94.0857 9.588 94.843 9.588C95.6217 9.588 96.3257 9.77467 96.955 10.148C97.595 10.5213 98.0963 11.0493 98.459 11.732C98.8217 12.404 99.003 13.188 99.003 14.084C99.003 14.9693 98.8217 15.7587 98.459 16.452C98.0963 17.1453 97.595 17.684 96.955 18.068C96.3257 18.452 95.6217 18.644 94.843 18.644C94.0963 18.644 93.435 18.4787 92.859 18.148C92.2937 17.8067 91.8617 17.3853 91.563 16.884V22.66H90.107V9.732H91.563V11.348ZM97.515 14.084C97.515 13.4227 97.3817 12.8467 97.115 12.356C96.8483 11.8653 96.4857 11.492 96.027 11.236C95.579 10.98 95.083 10.852 94.539 10.852C94.0057 10.852 93.5097 10.9853 93.051 11.252C92.603 11.508 92.2403 11.8867 91.963 12.388C91.6963 12.8787 91.563 13.4493 91.563 14.1C91.563 14.7613 91.6963 15.3427 91.963 15.844C92.2403 16.3347 92.603 16.7133 93.051 16.98C93.5097 17.236 94.0057 17.364 94.539 17.364C95.083 17.364 95.579 17.236 96.027 16.98C96.4857 16.7133 96.8483 16.3347 97.115 15.844C97.3817 15.3427 97.515 14.756 97.515 14.084ZM116.865 9.732L114.129 18.5H112.625L110.513 11.54L108.401 18.5H106.897L104.145 9.732H105.633L107.649 17.092L109.825 9.732H111.313L113.441 17.108L115.425 9.732H116.865ZM119.062 8.308C118.785 8.308 118.55 8.212 118.358 8.02C118.166 7.828 118.07 7.59333 118.07 7.316C118.07 7.03867 118.166 6.804 118.358 6.612C118.55 6.42 118.785 6.324 119.062 6.324C119.329 6.324 119.553 6.42 119.734 6.612C119.926 6.804 120.022 7.03867 120.022 7.316C120.022 7.59333 119.926 7.828 119.734 8.02C119.553 8.212 119.329 8.308 119.062 8.308ZM119.766 9.732V18.5H118.31V9.732H119.766ZM124.024 10.932V16.1C124.024 16.5267 124.114 16.8307 124.296 17.012C124.477 17.1827 124.792 17.268 125.24 17.268H126.312V18.5H125C124.189 18.5 123.581 18.3133 123.176 17.94C122.77 17.5667 122.568 16.9533 122.568 16.1V10.932H121.432V9.732H122.568V7.524H124.024V9.732H126.312V10.932H124.024ZM132.428 9.572C133.089 9.572 133.686 9.716 134.22 10.004C134.753 10.2813 135.169 10.7027 135.468 11.268C135.777 11.8333 135.932 12.5213 135.932 13.332V18.5H134.492V13.54C134.492 12.6653 134.273 11.9987 133.836 11.54C133.398 11.0707 132.801 10.836 132.044 10.836C131.276 10.836 130.662 11.076 130.204 11.556C129.756 12.036 129.532 12.7347 129.532 13.652V18.5H128.076V6.66H129.532V10.98C129.82 10.532 130.214 10.1853 130.716 9.94C131.228 9.69467 131.798 9.572 132.428 9.572ZM151.024 10.58C150.714 9.92933 150.266 9.428 149.68 9.076C149.093 8.71333 148.41 8.532 147.632 8.532C146.853 8.532 146.149 8.71333 145.52 9.076C144.901 9.428 144.41 9.94 144.048 10.612C143.696 11.2733 143.52 12.0413 143.52 12.916C143.52 13.7907 143.696 14.5587 144.048 15.22C144.41 15.8813 144.901 16.3933 145.52 16.756C146.149 17.108 146.853 17.284 147.632 17.284C148.72 17.284 149.616 16.9587 150.32 16.308C151.024 15.6573 151.434 14.7773 151.552 13.668H147.104V12.484H153.104V13.604C153.018 14.5213 152.73 15.364 152.24 16.132C151.749 16.8893 151.104 17.492 150.304 17.94C149.504 18.3773 148.613 18.596 147.632 18.596C146.597 18.596 145.653 18.356 144.8 17.876C143.946 17.3853 143.269 16.708 142.768 15.844C142.277 14.98 142.032 14.004 142.032 12.916C142.032 11.828 142.277 10.852 142.768 9.988C143.269 9.11333 143.946 8.436 144.8 7.956C145.653 7.46533 146.597 7.22 147.632 7.22C148.816 7.22 149.861 7.51333 150.768 8.1C151.685 8.68667 152.352 9.51333 152.768 10.58H151.024ZM158.853 18.644C158.032 18.644 157.285 18.4573 156.613 18.084C155.952 17.7107 155.429 17.1827 155.045 16.5C154.672 15.8067 154.485 15.0067 154.485 14.1C154.485 13.204 154.677 12.4147 155.061 11.732C155.456 11.0387 155.989 10.5107 156.661 10.148C157.333 9.77467 158.085 9.588 158.917 9.588C159.749 9.588 160.501 9.77467 161.173 10.148C161.845 10.5107 162.373 11.0333 162.757 11.716C163.152 12.3987 163.349 13.1933 163.349 14.1C163.349 15.0067 163.146 15.8067 162.741 16.5C162.346 17.1827 161.808 17.7107 161.125 18.084C160.442 18.4573 159.685 18.644 158.853 18.644ZM158.853 17.364C159.376 17.364 159.866 17.2413 160.325 16.996C160.784 16.7507 161.152 16.3827 161.429 15.892C161.717 15.4013 161.861 14.804 161.861 14.1C161.861 13.396 161.722 12.7987 161.445 12.308C161.168 11.8173 160.805 11.4547 160.357 11.22C159.909 10.9747 159.424 10.852 158.901 10.852C158.368 10.852 157.877 10.9747 157.429 11.22C156.992 11.4547 156.64 11.8173 156.373 12.308C156.106 12.7987 155.973 13.396 155.973 14.1C155.973 14.8147 156.101 15.4173 156.357 15.908C156.624 16.3987 156.976 16.7667 157.413 17.012C157.85 17.2467 158.33 17.364 158.853 17.364ZM169.087 18.644C168.266 18.644 167.519 18.4573 166.847 18.084C166.186 17.7107 165.663 17.1827 165.279 16.5C164.906 15.8067 164.719 15.0067 164.719 14.1C164.719 13.204 164.911 12.4147 165.295 11.732C165.69 11.0387 166.223 10.5107 166.895 10.148C167.567 9.77467 168.319 9.588 169.151 9.588C169.983 9.588 170.735 9.77467 171.407 10.148C172.079 10.5107 172.607 11.0333 172.991 11.716C173.386 12.3987 173.583 13.1933 173.583 14.1C173.583 15.0067 173.381 15.8067 172.975 16.5C172.581 17.1827 172.042 17.7107 171.359 18.084C170.677 18.4573 169.919 18.644 169.087 18.644ZM169.087 17.364C169.61 17.364 170.101 17.2413 170.559 16.996C171.018 16.7507 171.386 16.3827 171.663 15.892C171.951 15.4013 172.095 14.804 172.095 14.1C172.095 13.396 171.957 12.7987 171.679 12.308C171.402 11.8173 171.039 11.4547 170.591 11.22C170.143 10.9747 169.658 10.852 169.135 10.852C168.602 10.852 168.111 10.9747 167.663 11.22C167.226 11.4547 166.874 11.8173 166.607 12.308C166.341 12.7987 166.207 13.396 166.207 14.1C166.207 14.8147 166.335 15.4173 166.591 15.908C166.858 16.3987 167.21 16.7667 167.647 17.012C168.085 17.2467 168.565 17.364 169.087 17.364ZM179.114 9.588C179.871 9.588 180.532 9.75333 181.098 10.084C181.674 10.4147 182.1 10.8307 182.378 11.332V9.732H183.85V18.692C183.85 19.492 183.679 20.2013 183.338 20.82C182.996 21.4493 182.506 21.94 181.866 22.292C181.236 22.644 180.5 22.82 179.658 22.82C178.506 22.82 177.546 22.548 176.778 22.004C176.01 21.46 175.556 20.7187 175.418 19.78H176.858C177.018 20.3133 177.348 20.74 177.85 21.06C178.351 21.3907 178.954 21.556 179.658 21.556C180.458 21.556 181.108 21.3053 181.61 20.804C182.122 20.3027 182.378 19.5987 182.378 18.692V16.852C182.09 17.364 181.663 17.7907 181.098 18.132C180.532 18.4733 179.871 18.644 179.114 18.644C178.335 18.644 177.626 18.452 176.986 18.068C176.356 17.684 175.86 17.1453 175.498 16.452C175.135 15.7587 174.954 14.9693 174.954 14.084C174.954 13.188 175.135 12.404 175.498 11.732C175.86 11.0493 176.356 10.5213 176.986 10.148C177.626 9.77467 178.335 9.588 179.114 9.588ZM182.378 14.1C182.378 13.4387 182.244 12.8627 181.978 12.372C181.711 11.8813 181.348 11.508 180.89 11.252C180.442 10.9853 179.946 10.852 179.402 10.852C178.858 10.852 178.362 10.98 177.914 11.236C177.466 11.492 177.108 11.8653 176.842 12.356C176.575 12.8467 176.442 13.4227 176.442 14.084C176.442 14.756 176.575 15.3427 176.842 15.844C177.108 16.3347 177.466 16.7133 177.914 16.98C178.362 17.236 178.858 17.364 179.402 17.364C179.946 17.364 180.442 17.236 180.89 16.98C181.348 16.7133 181.711 16.3347 181.978 15.844C182.244 15.3427 182.378 14.7613 182.378 14.1ZM187.766 6.66V18.5H186.31V6.66H187.766ZM198.248 13.78C198.248 14.0573 198.232 14.3507 198.2 14.66H191.192C191.245 15.524 191.538 16.2013 192.072 16.692C192.616 17.172 193.272 17.412 194.04 17.412C194.669 17.412 195.192 17.268 195.608 16.98C196.034 16.6813 196.333 16.2867 196.504 15.796H198.072C197.837 16.6387 197.368 17.3267 196.664 17.86C195.96 18.3827 195.085 18.644 194.04 18.644C193.208 18.644 192.461 18.4573 191.8 18.084C191.149 17.7107 190.637 17.1827 190.264 16.5C189.89 15.8067 189.704 15.0067 189.704 14.1C189.704 13.1933 189.885 12.3987 190.248 11.716C190.61 11.0333 191.117 10.5107 191.768 10.148C192.429 9.77467 193.186 9.588 194.04 9.588C194.872 9.588 195.608 9.76933 196.248 10.132C196.888 10.4947 197.378 10.996 197.72 11.636C198.072 12.2653 198.248 12.98 198.248 13.78ZM196.744 13.476C196.744 12.9213 196.621 12.4467 196.376 12.052C196.13 11.6467 195.794 11.3427 195.368 11.14C194.952 10.9267 194.488 10.82 193.976 10.82C193.24 10.82 192.61 11.0547 192.088 11.524C191.576 11.9933 191.282 12.644 191.208 13.476H196.744Z" fill="black" />
                    <defs>
                        <clipPath id="clip0_868_3335">
                            <rect width="24" height="24" fill="white" transform="translate(0 0.5)" />
                        </clipPath>
                    </defs>
                </svg>
            </button>
        </div>
        <div style="width:371px; justify-content:center;display:flex;margin-top:32px;">
            <p>Already have account?  <a href="/login" style="text-decoration:none;color:black;text-decoration-line:underline;text-underline-offset:10px;">Log in</a></p>
        </div>
    </div>
</div>

@code {
    Buyer Buyer = new Buyer();
    Seller Seller = new Seller();
    private string Role { get; set; } = "Buyer";
    RegisterResponse Response = new RegisterResponse();

    public void OnRoleChange(ChangeEventArgs ev)
    {
        Role = ev.Value.ToString();
        Console.WriteLine(Role);
    }
    public async void Registration()
    {
        if (Role == "Buyer")
        {
            Response = await BuyerService.Register(Buyer);
            Navigator.NavigateTo("/login", forceLoad: true);

        }
        if(Role == "Seller")
        {
           // Response = await SellerService.Register(Seller);
        }
    }
}
